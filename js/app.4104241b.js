(function(e){function t(t){for(var r,a,o=t[0],s=t[1],u=t[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&d.push(c[a][0]),c[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);m&&m(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==c[o]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},c={app:0},i=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-0c795f6a":"bf97c763","chunk-14ab9670":"c1017a1b","chunk-24443a9e":"c3218459","chunk-2d21de4f":"3734d8ac","chunk-33d687d8":"4826fce4","chunk-3c0cd999":"a0767988","chunk-e62a3918":"fa57110e"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-0c795f6a":1,"chunk-14ab9670":1,"chunk-33d687d8":1,"chunk-3c0cd999":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-0c795f6a":"454d9464","chunk-14ab9670":"9eedf68f","chunk-24443a9e":"31d6cfe0","chunk-2d21de4f":"31d6cfe0","chunk-33d687d8":"8308455c","chunk-3c0cd999":"fa3c9de5","chunk-e62a3918":"31d6cfe0"}[e]+".css",c=s.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===c))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===r||l===c)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||c,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],m.parentNode.removeChild(m),n(i)},m.href=c;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){a[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=o(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}c[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("96cf");var r=n("1da1"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7a23")),c=(n("b0c0"),n("fa3c")),i=n.n(c),o={class:"navbar-fixed"},s={class:"white"},u={class:"nav-wrapper"},l=Object(a["i"])("img",{class:"responsive-img",src:i.a},null,-1),d=Object(a["i"])("a",{"data-target":"mobile-demo",class:"sidenav-trigger"},[Object(a["i"])("i",{class:"material-icons"},"menu")],-1),m={class:"right hide-on-med-and-down pr-5"},f=Object(a["h"])(" home "),p=Object(a["h"])(" posts "),b=Object(a["h"])(" post your ad "),g=Object(a["i"])("i",{class:"material-icons right pr-1"},"chevron_right",-1),h={class:"dropdown"},v=Object(a["i"])("a",{class:"dropdown-trigger black-text text-center",id:"dropdownBtn"},[Object(a["i"])("i",{class:"material-icons"},"keyboard_arrow_down")],-1),O={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},j={key:0,to:"/profile",class:"nav-link teal-text d-flex align-items-center",disabled:""},w=Object(a["i"])("i",{class:"material-icons mr-3"},"account_circle",-1),k=Object(a["i"])("span",null,"Sign In",-1),x=Object(a["i"])("i",{class:"material-icons mr-3"},"apps",-1),y=Object(a["i"])("span",null,"My Posts",-1),I=Object(a["i"])("i",{class:"material-icons mr-3 left"},"exit_to_app",-1),L=Object(a["i"])("span",null,"Sign out",-1),R=Object(a["i"])("div",{class:"divider"},null,-1),P={class:"sidenav rounded-lg-right",id:"mobile-demo"},_=Object(a["i"])("i",{class:"material-icons left"},"home",-1),U=Object(a["h"])(" home"),A=Object(a["i"])("i",{class:"material-icons left"},"filter_list",-1),E=Object(a["h"])("Posts"),S=Object(a["i"])("i",{class:"material-icons mr-3"},"apps",-1),C=Object(a["i"])("span",null,"My Posts",-1),D={to:"/profile",class:"sidenav-link teal-text d-flex align-items-center"},B=Object(a["g"])('<footer class="pt-5 pb-0 m-0 grey lighten-5"><div class="social-media-container relative d-flex justify-content-center m-0"><div class="card links-container white d-flex justify-content-center px-5 m-0"><div class="follow-us-container valign-wrapper pl-2"><span class="font-weight-bold text-uppercase">Follow us</span></div><div class="row pl-3 py-4 m-0"><div class="col s4"><a href="http://.facebook.com" target="_blank" class="social-media-link"><i class="fab fa-facebook-square"></i></a></div><div class="col s4"><a href="http://www.instagram.com" target="_blank" class="social-media-link"><i class="fab fa-instagram"></i></a></div><div class="col s4"><a href="http://www.linkedin.com" target="_blank" class="social-media-link"><i class="fab fa-linkedin-in"></i></a></div></div></div></div><div class="footer-info-container teal darken-1 py-4 px-4"><div class="copy-container"><p class="white-text relative text-center"> Copyright Â©2020 Ticommerce. All rights reserved. </p></div></div></footer>',1);function G(e,t,n,r,c,i){var G=Object(a["y"])("router-link"),M=Object(a["y"])("router-view"),T=Object(a["y"])("Loader");return Object(a["r"])(),Object(a["e"])(a["a"],null,[Object(a["i"])("div",o,[Object(a["i"])("nav",s,[Object(a["i"])("div",u,[Object(a["i"])(G,{to:"/",class:"brand-logo teal-text pl-5"},{default:Object(a["G"])((function(){return[l]})),_:1}),d,Object(a["i"])("ul",m,[Object(a["i"])("li",null,[Object(a["i"])(G,{to:"/home",class:"nav-link teal-text"},{default:Object(a["G"])((function(){return[f]})),_:1})]),Object(a["i"])("li",null,[Object(a["i"])(G,{to:"/posts",class:"nav-link teal-text"},{default:Object(a["G"])((function(){return[p]})),_:1})]),Object(a["i"])("li",null,[Object(a["i"])(G,{to:"/register",class:"btn waves-effect waves-light rounded-pill px-4"},{default:Object(a["G"])((function(){return[b,g]})),_:1})]),Object(a["i"])("li",null,[Object(a["i"])("div",h,[v,Object(a["i"])("div",O,[e.loggedIn?(Object(a["r"])(),Object(a["e"])("a",j,[Object(a["i"])("img",{class:"responsive-img rounded-circle mr-3",src:e.user.picture,width:"32"},null,8,["src"]),Object(a["i"])("span",null,Object(a["B"])(e.user.name),1)])):Object(a["f"])("",!0),e.loggedIn?Object(a["f"])("",!0):(Object(a["r"])(),Object(a["e"])(G,{key:1,to:"/login",class:"nav-link teal-text d-flex"},{default:Object(a["G"])((function(){return[w,k]})),_:1})),e.loggedIn?(Object(a["r"])(),Object(a["e"])(G,{key:2,to:"/myposts",class:"nav-link teal-text d-flex"},{default:Object(a["G"])((function(){return[x,y]})),_:1})):Object(a["f"])("",!0),e.loggedIn?(Object(a["r"])(),Object(a["e"])("button",{key:3,onClick:t[1]||(t[1]=function(){return e.logout.apply(e,arguments)}),class:"nav-link btn white teal-text d-flex align-items-center box-shadow-none py-4"},[I,L])):Object(a["f"])("",!0)])])])])]),R])]),Object(a["i"])("ul",P,[Object(a["i"])("li",null,[Object(a["i"])(G,{to:"/home",class:"sidenav-link teal-text"},{default:Object(a["G"])((function(){return[_,U]})),_:1})]),Object(a["i"])("li",null,[Object(a["i"])(G,{to:"/posts",class:"sidenav-link teal-text"},{default:Object(a["G"])((function(){return[A,E]})),_:1})]),Object(a["i"])("li",null,[e.loggedIn?(Object(a["r"])(),Object(a["e"])(G,{key:0,to:"/myposts",class:"sidenav-link teal-text d-flex align-items-center"},{default:Object(a["G"])((function(){return[S,C]})),_:1})):Object(a["f"])("",!0)]),Object(a["i"])("li",null,[Object(a["i"])("a",D,[Object(a["i"])("img",{class:"responsive-img rounded-circle mr-3",src:e.user.picture,width:"32"},null,8,["src"]),Object(a["i"])("span",null,Object(a["B"])(e.user.name),1)])])]),Object(a["i"])(M),B,Object(a["i"])(T)],64)}var T=n("5530"),q=Object(a["J"])("data-v-3c352c66");Object(a["u"])("data-v-3c352c66");var N={key:0,class:"loader-container"},F=Object(a["g"])('<div class="spinner-box" data-v-3c352c66><div class="pulse-container" data-v-3c352c66><div class="pulse-bubble pulse-bubble-1" data-v-3c352c66></div><div class="pulse-bubble pulse-bubble-2" data-v-3c352c66></div><div class="pulse-bubble pulse-bubble-3" data-v-3c352c66></div></div></div>',1);Object(a["s"])();var z=q((function(e,t,n,r,c,i){return Object(a["r"])(),Object(a["e"])(a["b"],{name:"fade"},{default:q((function(){return[e.showLoader?(Object(a["r"])(),Object(a["e"])("div",N,[F])):Object(a["f"])("",!0)]})),_:1})})),J=n("5502"),K={computed:Object(T["a"])({},Object(J["e"])(["showLoader"]))};n("cb64");K.render=z,K.__scopeId="data-v-3c352c66";var H=K,V=n("260b"),W={components:{Loader:H},computed:Object(T["a"])({},Object(J["c"])("user",{user:"user",loggedIn:"loggedIn"})),methods:Object(T["a"])(Object(T["a"])({},Object(J["b"])("user",["logout"])),Object(J["d"])("user",["setUserData"])),created:function(){V["a"].auth().currentUser&&this.setUserData(V["a"].auth().currentUser)},mounted:function(){var e=document.querySelectorAll(".sidenav");M.Sidenav.init(e)}};n("64be");W.render=G;var Q,X=W,Y=n("a18c"),Z=(n("b7aa"),n("c6c5"),n("2e66"),n("a4d3"),n("e01a"),n("4160"),n("159b"),{namespaced:!0,state:{user:{},loggedIn:!1},getters:{user:function(e){var t=e.user;return t},loggedIn:function(e){var t=e.loggedIn;return t}},mutations:{setUserData:function(e,t){e.loggedIn=!0,e.user={name:t.displayName,picture:t.photoURL,email:t.email}},setLogOut:function(e){e.loggedIn=!1,e.user={}}},actions:{login:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=new V["a"].auth.GoogleAuthProvider,t.prev=2,t.next=5,V["a"].auth().signInWithPopup(r).then((function(e){var t=e.user;n("setUserData",t),Y["a"].push("/home")})).catch((function(e){e.code;var t=e.message;console.log(t)}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](2),console.log(t.t0);case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t,null,[[2,7]])})))()},logout:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,V["a"].auth().signOut().then((function(){n("setLogOut"),Y["a"].push("/login")})).catch((function(e){return console.log(e)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),console.log(t.t0);case 9:return t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()}}}),$=(n("d81d"),n("cc84")),ee={namespaced:!0,state:{db:null,posts:[],currentPost:{}},mutations:{setDB:function(e){null==e.db&&(e.db=$["a"].firestore())},setPosts:function(e,t){e.posts=t},setCurrPost:function(e,t){e.currentPost=t},setPostImages:function(e,t){-1!=t.index?e.posts[t.index].images=t.images:e.currentPost.images=t.images}},actions:{getPosts:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.next=3,$["a"].firestore().collection("posts").get();case 3:a=t.sent,c=a.docs.map((function(e){return Object(T["a"])({id:e.id},e.data())})),n("setPosts",c),r("setImages");case 7:case"end":return t.stop()}}),t)})))()},getPost:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,a=e.dispatch,c=e.state,r("setDB"),i=c.db.collection("posts").doc(t),i.get().then((function(e){e.exists?(r("setCurrPost",Object(T["a"])({id:e.id},e.data())),a("setPostImages",e.id)):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 4:case"end":return n.stop()}}),n)})))()},setImages:function(e){e.commit;var t=e.dispatch,n=e.state;n.posts.forEach((function(e,n){t("getImages",{docID:e.id,index:n})}))},getImages:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,$["a"].firestore().collection("images").where("postId","==",t.docID).limit(1).get();case 3:a=n.sent,c=a.docs.map((function(e){return Object(T["a"])({id:e.id},e.data())})),r("setPostImages",{index:t.index,images:c});case 6:case"end":return n.stop()}}),n)})))()},setPostImages:function(e,t){e.commit;var n=e.dispatch;e.state;n("getPostImages",t)},getPostImages:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,$["a"].firestore().collection("images").where("postId","==",t).get();case 3:a=n.sent,c=a.docs.map((function(e){return Object(T["a"])({id:e.id},e.data())})),r("setPostImages",{index:-1,images:c});case 6:case"end":return n.stop()}}),n)})))()}}},te=Object(J["a"])({state:{showLoader:!0,db:null,imagesURLs:[]},mutations:{toggleLoader:function(e){e.showLoader=!0,setTimeout((function(){e.showLoader=!1}),200)},startLoader:function(e){e.showLoader=!0},endLoader:function(e){e.showLoader=!1},initializeFirestore:function(e){null==e.db&&(e.db=V["a"].firestore())},addImageURL:function(e,t){e.imagesURLs.push(t)},restartImages:function(e){e.imagesURLs=[]}},actions:{createPost:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,c=e.state,r("initializeFirestore"),n.next=4,c.db.collection("posts").add({title:t.title,description:t.description,category:t.category,price:t.price,user:t.user}).then((function(e){a("loopImages",e.id)})).catch((function(e){console.error("Error writing document: ",e)}));case 4:case"end":return n.stop()}}),n)})))()},loopImages:function(e,t){var n=e.commit,r=e.dispatch,a=e.state;a.imagesURLs.forEach((function(e){var n={postId:t,url:e};r("saveImageURL",n)})),n("restartImages")},saveImageURL:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.commit,r=e.state,n.next=3,r.db.collection("images").doc().set(t);case 3:case"end":return n.stop()}}),n)})))()},uploadImage:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=V["a"].storage().ref(),c=a.child(t.name),n.next=5,c.put(t);case 5:return n.next=7,c.getDownloadURL();case 7:i=n.sent,r("addImageURL",i);case 9:case"end":return n.stop()}}),n)})))()}},getters:{imagesURLs:function(e){var t=e.imagesURLs;return t},posts:function(e){var t=e.posts;return t}},modules:{user:Z,posts:ee}}),ne=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.classList.add("enter"),t.unobserve(e.target))}))})),re={mounted:function(e){e.classList.add("before-enter"),ne.observe(e)}},ae={apiKey:"AIzaSyC2RD4zIHkrFLRbUa5nKlGDeCIy7tgi8UM",authDomain:"ticommerce-4f61a.firebaseapp.com",databaseURL:"https://ticommerce-4f61a.firebaseio.com",projectId:"ticommerce-4f61a",storageBucket:"ticommerce-4f61a.appspot.com",messagingSenderId:"176166403181",appId:"1:176166403181:web:317e4cb159c617458c1364"};V["a"].initializeApp(ae),V["a"].auth().onAuthStateChanged(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Q||(Q=Object(a["d"])(X),Q.directive("scrollanimation",re),Q.use(te).use(Y["a"]).mount("#app"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},"64be":function(e,t,n){"use strict";n("c894")},a18c:function(e,t,n){"use strict";n("45fc"),n("b0c0"),n("d3b7");var r=n("6c02"),a=n("260b"),c=[{path:"/:catchAll(.*)",name:"notFound",redirect:"/error"},{path:"/",redirect:"/home"},{path:"/error",name:"error",component:function(){return n.e("chunk-e62a3918").then(n.bind(null,"dda8"))}},{path:"/login",name:"login",component:function(){return n.e("chunk-24443a9e").then(n.bind(null,"a55b"))}},{path:"/home",name:"home",component:function(){return n.e("chunk-14ab9670").then(n.bind(null,"bb51"))}},{path:"/posts",name:"posts",component:function(){return n.e("chunk-33d687d8").then(n.bind(null,"17c3"))}},{path:"/posts/:postId",name:"product",component:function(){return n.e("chunk-2d21de4f").then(n.bind(null,"d2f1"))}},{path:"/myposts",name:"myposts",component:function(){return n.e("chunk-3c0cd999").then(n.bind(null,"03b2"))},meta:{requiresAuth:!0}},{path:"/register",name:"register",component:function(){return n.e("chunk-0c795f6a").then(n.bind(null,"c6fe"))},meta:{requiresAuth:!0}}],i=Object(r["a"])({history:Object(r["b"])("/"),routes:c,scrollBehavior:function(){document.getElementById("app").scrollIntoView()}});i.beforeEach((function(e,t,n){var r=a["a"].auth().currentUser;return e.matched.some((function(e){return e.meta.requiresAuth}))?r?void n():void n("/login"):"login"==e.name&&r||e.name===t.name?void n(t):void n()})),t["a"]=i},c894:function(e,t,n){},cb64:function(e,t,n){"use strict";n("d8ea")},d8ea:function(e,t,n){},fa3c:function(e,t,n){e.exports=n.p+"img/ticommerce-logo.8185b7c8.png"}});
//# sourceMappingURL=app.4104241b.js.map